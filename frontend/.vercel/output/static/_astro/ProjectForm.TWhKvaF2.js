import{j as e,B as n}from"./button.Ddx2-vE6.js";import{D as m}from"./createLucideIcon.Bt26vucB.js";import{o as w,i as P,t as i,s as T,d as y,e as d,n as S,b as v,u as _,a as D,C as c,L as k}from"./CustomInput.DPTWb3PP.js";import{a as N,T as C,u as F,c as A,d as E}from"./trash.DEvtjFe8.js";import{h as L,a as x}from"./utils.BUWuKY61.js";import{r as u}from"./index.BmnMO-Wv.js";import{C as R,a as o}from"./CustomUpload.Dvn2RMW2.js";import"./index.DQ-kWmSG.js";const z=w({id:S().optional(),is_present_date:d(),is_published:d(),start_date:y,end_date:i,title:T().min(1),description:i,short_description:i,skills:i,links:i,image:P.optional()});function h({inputProps:t,label:l}){return e.jsx("div",{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",...t}),e.jsx(v,{children:l})]})})}function M({projectId:t}){const[l,f]=u.useState(""),s=_({resolver:D(z)}),a=s.formState.errors;u.useEffect(()=>{t&&t!=="new"&&g(t)},[t]);const g=async r=>{const p=await N(r);L(p,f,"image"),s.reset(p)},j=async r=>{t?await F(t,x(r)):await A(x(r)),window.location.href=m},b=async r=>{await E(r),window.location.href=m};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 my-5 justify-between",children:[e.jsx(n,{size:"sm",variant:"outline",children:e.jsx("a",{href:m,children:"Dashboard"})}),t&&e.jsx(n,{onClick:()=>b(t),size:"sm",variant:"destructive",children:e.jsx(C,{className:"size-4"})})]}),e.jsxs("form",{onSubmit:s.handleSubmit(j),className:"space-y-6",encType:"multipart/form-data",children:[e.jsx(h,{inputProps:s.register("is_published"),label:"Published"}),e.jsx(R,{preview:l,typeOfFile:"image",fieldName:"image",formControl:s.control,error:a.image?.message,labelText:"Project Image",aspectRatio:"16/9"}),e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[e.jsx("div",{className:"flex-1 min-w-full sm:min-w-0",children:e.jsx(c,{inputType:"text",placeholder:"Title",labelText:"Title",inputProps:s.register("title"),error:a.title?.message})}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(c,{inputType:"date",labelText:"Start Date",placeholder:"Start Date",inputProps:s.register("start_date"),error:a.start_date?.message})}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(c,{inputType:"date",labelText:"End Date",placeholder:"End Date",inputProps:s.register("end_date"),error:a.end_date?.message})}),e.jsx("div",{className:"w-full sm:w-auto",children:e.jsx(h,{inputProps:s.register("is_present_date"),label:"Present"})})]}),e.jsx(o,{labelText:"Short Description",placeholder:"Short Description",textAreaProps:s.register("short_description"),error:a.short_description?.message}),e.jsx(o,{labelText:"Description",placeholder:"Description",textAreaProps:s.register("description"),error:a.description?.message}),e.jsx(o,{labelText:"Skills",placeholder:"Skills",textAreaProps:s.register("skills"),error:a.skills?.message,hint:"Separate with ; e.g, React;Python;Java"}),e.jsx(o,{labelText:"Links",placeholder:"Links",textAreaProps:s.register("links"),error:a.links?.message,hint:"Separate with ; e.g, Example;https://ex.com;Google;https://gg.com"}),e.jsx(n,{type:"submit",disabled:s.formState.isSubmitting,className:"w-full",children:s.formState.isSubmitting?e.jsx(k,{className:"animate-spin"}):"Confirm"})]})]})}export{M as default};
